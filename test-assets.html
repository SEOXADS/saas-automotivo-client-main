<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Assets - Portal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-item {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .success {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        .error {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        .loading {
            background-color: #fff3cd;
            border-color: #ffeaa7;
            color: #856404;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .asset-test {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }
        .status-success { background-color: #28a745; }
        .status-error { background-color: #dc3545; }
        .status-loading { background-color: #ffc107; }
    </style>
</head>
<body>
    <h1>üß™ Teste de Assets do Portal</h1>
    <p>Este arquivo testa se os assets do portal est√£o sendo servidos corretamente ap√≥s a migra√ß√£o de /portal para /</p>

    <div class="test-container">
        <h2>üìã Status dos Assets</h2>
        <div id="asset-status"></div>
        <button onclick="testAllAssets()">üîÑ Testar Todos os Assets</button>
        <button onclick="clearResults()">üóëÔ∏è Limpar Resultados</button>
    </div>

    <div class="test-container">
        <h2>üîó Links de Teste</h2>
        <p>Clique nos links abaixo para testar se os assets est√£o acess√≠veis:</p>

        <h3>CSS Principal</h3>
        <ul>
            <li><a href="/portal/assets/css/bootstrap.min.css" target="_blank">Bootstrap CSS</a></li>
            <li><a href="/portal/assets/css/style.css" target="_blank">Style CSS</a></li>
        </ul>

        <h3>Plugins CSS</h3>
        <ul>
            <li><a href="/portal/assets/plugins/boxicons/css/boxicons.min.css" target="_blank">Boxicons CSS</a></li>
            <li><a href="/portal/assets/plugins/fontawesome/css/all.min.css" target="_blank">FontAwesome CSS</a></li>
            <li><a href="/portal/assets/plugins/slick/slick.css" target="_blank">Slick CSS</a></li>
            <li><a href="/portal/assets/plugins/fancybox/fancybox.css" target="_blank">Fancybox CSS</a></li>
        </ul>

        <h3>Plugins JS</h3>
        <ul>
            <li><a href="/portal/assets/plugins/jquery/jquery.min.js" target="_blank">jQuery JS</a></li>
            <li><a href="/portal/assets/js/bootstrap.bundle.min.js" target="_blank">Bootstrap JS</a></li>
            <li><a href="/portal/assets/plugins/slick/slick.js" target="_blank">Slick JS</a></li>
            <li><a href="/portal/assets/plugins/fancybox/fancybox.umd.js" target="_blank">Fancybox JS</a></li>
        </ul>

        <h3>Imagens</h3>
        <ul>
            <li><a href="/portal/assets/img/logo.svg" target="_blank">Logo SVG</a></li>
            <li><a href="/portal/assets/img/category/category-01.png" target="_blank">Category 01</a></li>
            <li><a href="/portal/assets/img/cars/car-15.png" target="_blank">Car 15</a></li>
        </ul>
    </div>

    <div class="test-container">
        <h2>üåê Teste de Redirecionamento</h2>
        <p>Teste se as URLs est√£o sendo redirecionadas corretamente:</p>
        <ul>
            <li><a href="/portal" target="_blank">/portal ‚Üí /</a></li>
            <li><a href="/portal/" target="_blank">/portal/ ‚Üí /</a></li>
            <li><a href="/portal/vehicles" target="_blank">/portal/vehicles ‚Üí /vehicles</a></li>
            <li><a href="/portal/sobre" target="_blank">/portal/sobre ‚Üí /sobre</a></li>
        </ul>
    </div>

    <script>
        const assetsToTest = [
            // CSS Principal
            { name: 'Bootstrap CSS', url: '/portal/assets/css/bootstrap.min.css', type: 'css' },
            { name: 'Style CSS', url: '/portal/assets/css/style.css', type: 'css' },

            // Plugins CSS
            { name: 'Boxicons CSS', url: '/portal/assets/plugins/boxicons/css/boxicons.min.css', type: 'css' },
            { name: 'FontAwesome CSS', url: '/portal/assets/plugins/fontawesome/css/all.min.css', type: 'css' },
            { name: 'Slick CSS', url: '/portal/assets/plugins/slick/slick.css', type: 'css' },
            { name: 'Fancybox CSS', url: '/portal/assets/plugins/fancybox/fancybox.css', type: 'css' },

            // Plugins JS
            { name: 'jQuery JS', url: '/portal/assets/plugins/jquery/jquery.min.js', type: 'js' },
            { name: 'Bootstrap JS', url: '/portal/assets/js/bootstrap.bundle.min.js', type: 'js' },
            { name: 'Slick JS', url: '/portal/assets/plugins/slick/slick.js', type: 'js' },
            { name: 'Fancybox JS', url: '/portal/assets/plugins/fancybox/fancybox.umd.js', type: 'js' },

            // Imagens
            { name: 'Logo SVG', url: '/portal/assets/img/logo.svg', type: 'image' },
            { name: 'Category 01', url: '/portal/assets/img/category/category-01.png', type: 'image' },
            { name: 'Car 15', url: '/portal/assets/img/cars/car-15.png', type: 'image' },
        ];

        async function testAsset(asset) {
            const statusDiv = document.getElementById(`status-${asset.name.replace(/\s+/g, '-').toLowerCase()}`);
            if (statusDiv) {
                statusDiv.className = 'test-item loading';
                statusDiv.innerHTML = `
                    <div class="asset-test">
                        <span class="status-indicator status-loading"></span>
                        <span>Testando ${asset.name}...</span>
                    </div>
                `;
            }

            try {
                const response = await fetch(asset.url, { method: 'HEAD' });
                if (response.ok) {
                    if (statusDiv) {
                        statusDiv.className = 'test-item success';
                        statusDiv.innerHTML = `
                            <div class="asset-test">
                                <span class="status-indicator status-success"></span>
                                <span>‚úÖ ${asset.name} - OK (${response.status})</span>
                                <a href="${asset.url}" target="_blank" style="margin-left: auto;">üîó Ver</a>
                            </div>
                        `;
                    }
                    return { asset, status: 'success', response };
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                if (statusDiv) {
                    statusDiv.className = 'test-item error';
                    statusDiv.innerHTML = `
                        <div class="asset-test">
                            <span class="status-indicator status-error"></span>
                            <span>‚ùå ${asset.name} - Erro: ${error.message}</span>
                            <a href="${asset.url}" target="_blank" style="margin-left: auto;">üîó Ver</a>
                        </div>
                    `;
                }
                return { asset, status: 'error', error };
            }
        }

        async function testAllAssets() {
            const container = document.getElementById('asset-status');
            container.innerHTML = '<p>üîÑ Testando assets...</p>';

            // Criar elementos de status para cada asset
            assetsToTest.forEach(asset => {
                const statusDiv = document.createElement('div');
                statusDiv.id = `status-${asset.name.replace(/\s+/g, '-').toLowerCase()}`;
                statusDiv.className = 'test-item loading';
                statusDiv.innerHTML = `
                    <div class="asset-test">
                        <span class="status-indicator status-loading"></span>
                        <span>Aguardando teste de ${asset.name}...</span>
                    </div>
                `;
                container.appendChild(statusDiv);
            });

            // Testar todos os assets
            const results = await Promise.all(assetsToTest.map(testAsset));

            // Resumo
            const successCount = results.filter(r => r.status === 'success').length;
            const errorCount = results.filter(r => r.status === 'error').length;

            const summaryDiv = document.createElement('div');
            summaryDiv.className = 'test-item';
            summaryDiv.style.marginTop = '20px';
            summaryDiv.style.fontWeight = 'bold';
            summaryDiv.innerHTML = `
                üìä Resumo: ${successCount} sucessos, ${errorCount} erros de ${assetsToTest.length} assets testados
            `;
            container.appendChild(summaryDiv);
        }

        function clearResults() {
            document.getElementById('asset-status').innerHTML = '';
        }

        // Testar automaticamente ao carregar a p√°gina
        window.addEventListener('load', () => {
            setTimeout(testAllAssets, 1000);
        });
    </script>
</body>
</html>
