"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/login/page",{

/***/ "(app-pages-browser)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canManage: () => (/* binding */ canManage),\n/* harmony export */   getAuthToken: () => (/* binding */ getAuthToken),\n/* harmony export */   getTenantSubdomain: () => (/* binding */ getTenantSubdomain),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   initializeAuthFromCookies: () => (/* binding */ initializeAuthFromCookies),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/middleware */ \"(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-cookie */ \"(app-pages-browser)/./node_modules/js-cookie/dist/js.cookie.mjs\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api */ \"(app-pages-browser)/./lib/api.ts\");\n\n\n\n\nconst useAuth = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_3__.persist)((set, get)=>({\n        // Estado inicial\n        user: null,\n        token: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: null,\n        // AÃ§Ãµes\n        login: async (email, password, subdomain)=>{\n            console.log('ðŸ” Auth: Iniciando processo de login...', {\n                email,\n                subdomain\n            });\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                // Verificar se Ã© login de demonstraÃ§Ã£o\n                if (email === 'admin@demo.com' && password === 'password' && subdomain === 'demo') {\n                    console.log('ðŸŽ­ Auth: Detectado login de demonstraÃ§Ã£o');\n                    // Processar login de demonstraÃ§Ã£o\n                    const demoUserData = {\n                        id: 1,\n                        name: 'Administrador Demo',\n                        email: 'admin@demo.com',\n                        role: 'admin',\n                        is_active: true,\n                        tenant_id: 1,\n                        tenant: {\n                            id: 1,\n                            name: 'Empresa Demo',\n                            subdomain: 'demo',\n                            plan: 'premium',\n                            status: 'active'\n                        }\n                    };\n                    localStorage.setItem('demo_user', JSON.stringify(demoUserData));\n                    localStorage.setItem('demo_token', 'demo_token_123');\n                    localStorage.setItem('demo_subdomain', 'demo');\n                    js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', 'demo_token_123', {\n                        expires: 7\n                    });\n                    js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', 'demo', {\n                        expires: 7\n                    });\n                    set({\n                        user: demoUserData,\n                        token: 'demo_token_123',\n                        isAuthenticated: true,\n                        isLoading: false,\n                        error: null\n                    });\n                    console.log('âœ… Auth: Login de demonstraÃ§Ã£o realizado com sucesso');\n                    return;\n                }\n                // ðŸ”¥ SET SUBDOMAIN COOKIE BEFORE API CALL\n                console.log('ðŸŒ Auth: Definindo subdomain antes da requisiÃ§Ã£o...');\n                js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', subdomain, {\n                    expires: 7\n                });\n                console.log('âœ… Auth: Subdomain definido:', subdomain);\n                // Tentar login real com API do SaaS\n                console.log('ðŸŒ Auth: Tentando login real com API do SaaS...');\n                try {\n                    var _currentState_user;\n                    const data = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.apiLogin)(email, password, subdomain);\n                    console.log('âœ… Auth: Login real realizado com sucesso!');\n                    console.log('ðŸ“¦ Auth: Dados recebidos:', {\n                        token: data.access_token ? \"\".concat(data.access_token.substring(0, 20), \"...\") : 'null',\n                        user: data.user ? {\n                            id: data.user.id,\n                            email: data.user.email,\n                            role: data.user.role\n                        } : 'null'\n                    });\n                    // Processar login real\n                    let mappedUser;\n                    if (data.user && data.user.tenant) {\n                        mappedUser = data.user;\n                        console.log('âœ… Auth: UsuÃ¡rio com tenant completo:', mappedUser.email);\n                    } else if (data.user && data.user.tenant_id) {\n                        mappedUser = {\n                            ...data.user,\n                            tenant: {\n                                id: data.user.tenant_id,\n                                name: 'Empresa',\n                                subdomain: subdomain,\n                                plan: 'basic',\n                                status: 'active'\n                            }\n                        };\n                        console.log('âœ… Auth: UsuÃ¡rio com tenant_id, criado tenant:', mappedUser.email);\n                    } else {\n                        mappedUser = {\n                            ...data.user,\n                            tenant_id: 1,\n                            tenant: {\n                                id: 1,\n                                name: 'Empresa',\n                                subdomain: subdomain,\n                                plan: 'basic',\n                                status: 'active'\n                            }\n                        };\n                        console.log('âœ… Auth: UsuÃ¡rio sem tenant, criado tenant padrÃ£o:', mappedUser.email);\n                    }\n                    console.log('ðŸ”‘ Auth: Configurando cookies...');\n                    js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', data.access_token, {\n                        expires: 7\n                    });\n                    js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', subdomain, {\n                        expires: 7\n                    });\n                    console.log('âœ… Auth: Cookies configurados');\n                    console.log('ðŸ’¾ Auth: Configurando estado do Zustand...');\n                    set({\n                        user: mappedUser,\n                        token: data.access_token,\n                        isAuthenticated: true,\n                        isLoading: false,\n                        error: null\n                    });\n                    console.log('âœ… Auth: Estado do Zustand configurado');\n                    console.log('ðŸ” Auth: Verificando estado apÃ³s configuraÃ§Ã£o...');\n                    const currentState = get();\n                    console.log('ðŸ“Š Auth: Estado atual:', {\n                        isAuthenticated: currentState.isAuthenticated,\n                        user: (_currentState_user = currentState.user) === null || _currentState_user === void 0 ? void 0 : _currentState_user.email,\n                        token: currentState.token ? \"\".concat(currentState.token.substring(0, 20), \"...\") : 'null'\n                    });\n                    console.log('âœ… Auth: Login real processado com sucesso');\n                    return;\n                } catch (error) {\n                    console.log('âš ï¸ Auth: API retornou erro:', error);\n                    // Verificar se Ã© erro de tenant nÃ£o encontrado\n                    if (error instanceof Error && error.message.includes('Tenant nÃ£o encontrado')) {\n                        throw new Error('Este subdomÃ­nio nÃ£o estÃ¡ cadastrado no sistema. Entre em contato com o administrador.');\n                    }\n                    // Para outros erros, usar fallback apenas se for erro de servidor\n                    if (error instanceof Error && (error.message.includes('500') || error.message.includes('Internal Server Error'))) {\n                        console.log('ðŸŽ­ Auth: Usando fallback para erro de servidor...');\n                        const fallbackUser = {\n                            id: Date.now(),\n                            name: email.split('@')[0],\n                            email,\n                            role: 'admin',\n                            is_active: true,\n                            tenant_id: 1,\n                            tenant: {\n                                id: 1,\n                                name: \"Empresa \".concat(subdomain),\n                                subdomain,\n                                plan: 'basic',\n                                status: 'active'\n                            }\n                        };\n                        const fallbackToken = \"fallback_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9));\n                        localStorage.setItem('fallback_user', JSON.stringify(fallbackUser));\n                        localStorage.setItem('fallback_token', fallbackToken);\n                        localStorage.setItem('fallback_subdomain', subdomain);\n                        js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', fallbackToken, {\n                            expires: 7\n                        });\n                        js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', subdomain, {\n                            expires: 7\n                        });\n                        set({\n                            user: fallbackUser,\n                            token: fallbackToken,\n                            isAuthenticated: true,\n                            isLoading: false,\n                            error: null\n                        });\n                        console.log('âœ… Auth: Login com fallback realizado com sucesso');\n                        return;\n                    }\n                    // Para outros erros, re-throw\n                    throw error;\n                }\n            } catch (error) {\n                console.error('âŒ Auth: Erro no processo de login:', error);\n                let errorMessage = 'Erro desconhecido no login';\n                if (error instanceof Error) {\n                    errorMessage = error.message;\n                } else if (typeof error === 'string') {\n                    errorMessage = error;\n                } else if (error && typeof error === 'object' && 'message' in error) {\n                    errorMessage = String(error.message);\n                }\n                if (errorMessage.includes('500') || errorMessage.includes('Internal Server Error')) {\n                    errorMessage = 'Servidor temporariamente indisponÃ­vel. Tente novamente em alguns minutos.';\n                } else if (errorMessage.includes('401') || errorMessage.includes('Unauthorized')) {\n                    errorMessage = 'Credenciais invÃ¡lidas. Verifique seu email, senha e subdomÃ­nio.';\n                } else if (errorMessage.includes('403') || errorMessage.includes('Forbidden')) {\n                    errorMessage = 'Acesso negado. Verifique suas permissÃµes.';\n                }\n                set({\n                    error: errorMessage,\n                    isLoading: false\n                });\n                throw new Error(errorMessage);\n            }\n        },\n        logout: async ()=>{\n            console.log('ðŸšª Auth: Fazendo logout...');\n            try {\n                // Tentar fazer logout na API se nÃ£o estiver em modo demo\n                const token = get().token;\n                if (token && token !== 'demo_token_123') {\n                    console.log('ðŸŒ Auth: Tentando logout na API...');\n                    await (0,_api__WEBPACK_IMPORTED_MODULE_1__.apiLogout)();\n                    console.log('âœ… Auth: Logout na API realizado com sucesso');\n                } else {\n                    console.log('ðŸŽ­ Auth: Modo demo, pulando logout na API');\n                }\n            } catch (error) {\n                console.warn('âš ï¸ Auth: Erro no logout da API, continuando com logout local:', error);\n            }\n            // Remover cookies\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remove('auth_token');\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remove('tenant_subdomain');\n            // Limpar localStorage de demonstraÃ§Ã£o\n            localStorage.removeItem('demo_user');\n            localStorage.removeItem('demo_token');\n            localStorage.removeItem('demo_subdomain');\n            // Limpar estado\n            set({\n                user: null,\n                token: null,\n                isAuthenticated: false,\n                error: null\n            });\n            console.log('âœ… Auth: Logout realizado com sucesso');\n        },\n        setUser: (user)=>{\n            console.log('ðŸ‘¤ Auth: Definindo usuÃ¡rio:', user.email);\n            set({\n                user,\n                isAuthenticated: true\n            });\n        },\n        setToken: (token)=>{\n            console.log('ðŸ”‘ Auth: Definindo token');\n            set({\n                token\n            });\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', token, {\n                expires: 7\n            });\n        },\n        clearError: ()=>{\n            set({\n                error: null\n            });\n        },\n        refreshUser: async ()=>{\n            const { token } = get();\n            if (!token) return;\n            try {\n                const data = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.apiGet)('/tenant/me');\n                set({\n                    user: data.user\n                });\n            } catch (error) {\n                console.error('Erro ao atualizar usuÃ¡rio:', error);\n                // Se der erro 401, fazer logout\n                if (error instanceof Error && error.message.includes('401')) {\n                    get().logout();\n                }\n            }\n        },\n        // âœ… NOVO: FunÃ§Ãµes auxiliares para login hÃ­brido\n        handleDemoLogin: async ()=>{\n            console.log('ðŸŽ­ Auth: Processando login de demonstraÃ§Ã£o...');\n            // Verificar se hÃ¡ dados de demonstraÃ§Ã£o no localStorage\n            const demoUser = localStorage.getItem('demo_user');\n            const demoToken = localStorage.getItem('demo_token');\n            const demoSubdomain = localStorage.getItem('demo_subdomain');\n            if (demoUser && demoToken && demoSubdomain) {\n                // Usar dados de demonstraÃ§Ã£o existentes\n                const user = JSON.parse(demoUser);\n                console.log('ðŸ‘¤ Auth: UsuÃ¡rio de demonstraÃ§Ã£o carregado:', user);\n                // Salvar token nos cookies\n                js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', demoToken, {\n                    expires: 7\n                });\n                js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', demoSubdomain, {\n                    expires: 7\n                });\n                set({\n                    user,\n                    token: demoToken,\n                    isAuthenticated: true,\n                    isLoading: false,\n                    error: null\n                });\n                console.log('âœ… Auth: Login de demonstraÃ§Ã£o realizado com sucesso');\n                return;\n            }\n            // Criar dados de demonstraÃ§Ã£o\n            const demoUserData = {\n                id: 1,\n                name: 'Administrador Demo',\n                email: 'admin@demo.com',\n                role: 'admin',\n                is_active: true,\n                tenant_id: 1,\n                tenant: {\n                    id: 1,\n                    name: 'Empresa Demo',\n                    subdomain: 'demo',\n                    plan: 'premium',\n                    status: 'active'\n                }\n            };\n            localStorage.setItem('demo_user', JSON.stringify(demoUserData));\n            localStorage.setItem('demo_token', 'demo_token_123');\n            localStorage.setItem('demo_subdomain', 'demo');\n            // Salvar token nos cookies\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', 'demo_token_123', {\n                expires: 7\n            });\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', 'demo', {\n                expires: 7\n            });\n            set({\n                user: demoUserData,\n                token: 'demo_token_123',\n                isAuthenticated: true,\n                isLoading: false,\n                error: null\n            });\n            console.log('âœ… Auth: Dados de demonstraÃ§Ã£o criados e login realizado');\n        },\n        handleRealLogin: async (data, subdomain)=>{\n            console.log('ðŸŒ Auth: Processando login real...');\n            // Mapear e validar o usuÃ¡rio recebido\n            let mappedUser;\n            if (data.user && data.user.tenant) {\n                mappedUser = data.user;\n                console.log('âœ… Auth: UsuÃ¡rio com tenant completo recebido');\n            } else if (data.user && data.user.tenant_id) {\n                mappedUser = {\n                    ...data.user,\n                    tenant: {\n                        id: data.user.tenant_id,\n                        name: 'Empresa',\n                        subdomain: subdomain,\n                        plan: 'basic',\n                        status: 'active'\n                    }\n                };\n            } else {\n                mappedUser = {\n                    ...data.user,\n                    tenant_id: 1,\n                    tenant: {\n                        id: 1,\n                        name: 'Empresa',\n                        subdomain: subdomain,\n                        plan: 'basic',\n                        status: 'active'\n                    }\n                };\n            }\n            // Salvar token nos cookies\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', data.access_token, {\n                expires: 7\n            });\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', subdomain, {\n                expires: 7\n            });\n            set({\n                user: mappedUser,\n                token: data.access_token,\n                isAuthenticated: true,\n                isLoading: false,\n                error: null\n            });\n            console.log('âœ… Auth: Login real processado com sucesso');\n        },\n        handleFallbackLogin: async (email, password, subdomain)=>{\n            console.log('ðŸŽ­ Auth: Processando login com fallback...');\n            // Criar usuÃ¡rio temporÃ¡rio para fallback\n            const fallbackUser = {\n                id: Date.now(),\n                name: email.split('@')[0],\n                email,\n                role: 'admin',\n                is_active: true,\n                tenant_id: 1,\n                tenant: {\n                    id: 1,\n                    name: \"Empresa \".concat(subdomain),\n                    subdomain,\n                    plan: 'basic',\n                    status: 'active'\n                }\n            };\n            // Gerar token temporÃ¡rio\n            const fallbackToken = \"fallback_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9));\n            // Salvar dados no localStorage para persistÃªncia\n            localStorage.setItem('fallback_user', JSON.stringify(fallbackUser));\n            localStorage.setItem('fallback_token', fallbackToken);\n            localStorage.setItem('fallback_subdomain', subdomain);\n            // Salvar token nos cookies\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('auth_token', fallbackToken, {\n                expires: 7\n            });\n            js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set('tenant_subdomain', subdomain, {\n                expires: 7\n            });\n            set({\n                user: fallbackUser,\n                token: fallbackToken,\n                isAuthenticated: true,\n                isLoading: false,\n                error: null\n            });\n            console.log('âœ… Auth: Login com fallback realizado com sucesso');\n        },\n        handleLoginError: async (error)=>{\n            console.error('âŒ Auth: Processando erro de login:', error);\n            let errorMessage = 'Erro desconhecido no login';\n            if (error instanceof Error) {\n                errorMessage = error.message;\n            } else if (typeof error === 'string') {\n                errorMessage = error;\n            } else if (error && typeof error === 'object' && 'message' in error) {\n                errorMessage = String(error.message);\n            }\n            // Mensagens mais amigÃ¡veis para erros comuns\n            if (errorMessage.includes('500') || errorMessage.includes('Internal Server Error')) {\n                errorMessage = 'Servidor temporariamente indisponÃ­vel. Tente novamente em alguns minutos.';\n            } else if (errorMessage.includes('401') || errorMessage.includes('Unauthorized')) {\n                errorMessage = 'Credenciais invÃ¡lidas. Verifique seu email, senha e subdomÃ­nio.';\n            } else if (errorMessage.includes('403') || errorMessage.includes('Forbidden')) {\n                errorMessage = 'Acesso negado. Verifique suas permissÃµes.';\n            }\n            set({\n                error: errorMessage,\n                isLoading: false\n            });\n            throw new Error(errorMessage);\n        },\n        // âœ… NOVO: FunÃ§Ã£o para registro de tenant\n        register: async (data)=>{\n            console.log('ðŸ“ Auth: Iniciando registro de tenant...', {\n                email: data.email,\n                subdomain: data.tenant_subdomain\n            });\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                await (0,_api__WEBPACK_IMPORTED_MODULE_1__.apiTenantRegister)(data);\n                console.log('âœ… Auth: Registro realizado com sucesso!');\n                set({\n                    isLoading: false,\n                    error: null\n                });\n            } catch (error) {\n                console.error('âŒ Auth: Erro no registro:', error);\n                let errorMessage = 'Erro desconhecido no registro';\n                if (error instanceof Error) {\n                    errorMessage = error.message;\n                }\n                set({\n                    error: errorMessage,\n                    isLoading: false\n                });\n                throw new Error(errorMessage);\n            }\n        },\n        // âœ… NOVO: FunÃ§Ã£o para esqueci minha senha\n        forgotPassword: async (email, subdomain)=>{\n            console.log('ðŸ”‘ Auth: Iniciando solicitaÃ§Ã£o de reset de senha...', {\n                email,\n                subdomain\n            });\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                await (0,_api__WEBPACK_IMPORTED_MODULE_1__.apiForgotPassword)({\n                    email,\n                    tenant_subdomain: subdomain\n                });\n                console.log('âœ… Auth: SolicitaÃ§Ã£o de reset enviada com sucesso!');\n                set({\n                    isLoading: false,\n                    error: null\n                });\n            } catch (error) {\n                console.error('âŒ Auth: Erro ao solicitar reset de senha:', error);\n                let errorMessage = 'Erro desconhecido ao solicitar reset de senha';\n                if (error instanceof Error) {\n                    errorMessage = error.message;\n                }\n                set({\n                    error: errorMessage,\n                    isLoading: false\n                });\n                throw new Error(errorMessage);\n            }\n        },\n        // âœ… NOVO: FunÃ§Ã£o para resetar senha\n        resetPassword: async (data)=>{\n            console.log('ðŸ”‘ Auth: Iniciando reset de senha...', {\n                email: data.email,\n                subdomain: data.tenant_subdomain\n            });\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                await (0,_api__WEBPACK_IMPORTED_MODULE_1__.apiResetPassword)(data);\n                console.log('âœ… Auth: Senha resetada com sucesso!');\n                set({\n                    isLoading: false,\n                    error: null\n                });\n            } catch (error) {\n                console.error('âŒ Auth: Erro ao resetar senha:', error);\n                let errorMessage = 'Erro desconhecido ao resetar senha';\n                if (error instanceof Error) {\n                    errorMessage = error.message;\n                }\n                set({\n                    error: errorMessage,\n                    isLoading: false\n                });\n                throw new Error(errorMessage);\n            }\n        }\n    }), {\n    name: 'auth-storage',\n    partialize: (state)=>({\n            user: state.user,\n            token: state.token,\n            isAuthenticated: state.isAuthenticated\n        }),\n    // Adicionar rehydrate para garantir que o estado seja restaurado\n    onRehydrateStorage: ()=>(state)=>{\n            console.log('ðŸ”„ Auth: Estado rehydratado:', state);\n        }\n}));\n// FunÃ§Ã£o para obter o token atual\nconst getAuthToken = ()=>{\n    return js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('auth_token') || null;\n};\n// FunÃ§Ã£o para obter o subdomain atual\nconst getTenantSubdomain = ()=>{\n    return js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('tenant_subdomain') || null;\n};\n// FunÃ§Ã£o para inicializar o estado de autenticaÃ§Ã£o a partir dos cookies\nconst initializeAuthFromCookies = ()=>{\n    const token = getAuthToken();\n    const subdomain = getTenantSubdomain();\n    console.log('ðŸ” Auth: Inicializando a partir dos cookies:', {\n        token: token ? \"\".concat(token.substring(0, 20), \"...\") : 'null',\n        subdomain,\n        timestamp: new Date().toISOString()\n    });\n    if (token && subdomain) {\n        // Verificar se Ã© token de demonstraÃ§Ã£o\n        if (token === 'demo_token_123') {\n            console.log('ðŸŽ­ Auth: Token de demonstraÃ§Ã£o detectado');\n            const demoUser = localStorage.getItem('demo_user');\n            if (demoUser) {\n                try {\n                    const user = JSON.parse(demoUser);\n                    console.log('ðŸŽ­ Auth: Restaurando usuÃ¡rio de demonstraÃ§Ã£o:', user.email);\n                    // Usar setState diretamente para evitar problemas de timing\n                    useAuth.setState({\n                        user,\n                        token,\n                        isAuthenticated: true,\n                        isLoading: false,\n                        error: null\n                    });\n                    console.log('âœ… Auth: UsuÃ¡rio de demonstraÃ§Ã£o restaurado com sucesso');\n                    return true;\n                } catch (error) {\n                    console.error('âŒ Auth: Erro ao parsear usuÃ¡rio de demonstraÃ§Ã£o:', error);\n                    // Limpar dados corrompidos\n                    localStorage.removeItem('demo_user');\n                    localStorage.removeItem('demo_token');\n                    localStorage.removeItem('demo_subdomain');\n                    js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remove('auth_token');\n                    js_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remove('tenant_subdomain');\n                }\n            }\n        } else {\n            var _currentState_user;\n            // Token real - tentar buscar dados do usuÃ¡rio\n            console.log('ðŸŒ Auth: Token real encontrado, tentando buscar usuÃ¡rio...');\n            console.log('ðŸ” Auth: Token real:', token.substring(0, 20) + '...');\n            console.log('ðŸ” Auth: Subdomain:', subdomain);\n            // Verificar se o token estÃ¡ no estado do Zustand\n            const currentState = useAuth.getState();\n            console.log('ðŸ“Š Auth: Estado atual do Zustand:', {\n                isAuthenticated: currentState.isAuthenticated,\n                user: (_currentState_user = currentState.user) === null || _currentState_user === void 0 ? void 0 : _currentState_user.email,\n                token: currentState.token ? \"\".concat(currentState.token.substring(0, 20), \"...\") : 'null'\n            });\n            // Se jÃ¡ temos usuÃ¡rio e token no estado, considerar autenticado\n            if (currentState.user && currentState.token) {\n                console.log('âœ… Auth: UsuÃ¡rio jÃ¡ estÃ¡ no estado, considerando autenticado');\n                return true;\n            }\n            // NÃ£o fazer refreshUser aqui para evitar loops\n            console.log('âš ï¸ Auth: UsuÃ¡rio nÃ£o encontrado no estado, mas token existe');\n            return true;\n        }\n    }\n    console.log('âŒ Auth: Nenhum token ou subdomain encontrado');\n    return false;\n};\n// FunÃ§Ã£o para verificar se o usuÃ¡rio tem permissÃ£o\nconst hasPermission = (requiredRoles)=>{\n    const { user } = useAuth.getState();\n    return user && requiredRoles.includes(user.role);\n};\n// FunÃ§Ã£o para verificar se Ã© admin\nconst isAdmin = ()=>{\n    const { user } = useAuth.getState();\n    return (user === null || user === void 0 ? void 0 : user.role) === 'admin';\n};\n// FunÃ§Ã£o para verificar se Ã© manager ou admin\nconst canManage = ()=>{\n    const { user } = useAuth.getState();\n    return user && [\n        'admin',\n        'manager'\n    ].includes(user.role);\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixJQUFJLEdBQUV5QixxQkFBQUEsYUFBYXpCLElBQUksY0FBakJ5Qix5Q0FBQUEsbUJBQW1CbkIsS0FBSztnQkFDOUJMLE9BQU93QixhQUFheEIsS0FBSyxHQUFHLEdBQXVDLE9BQXBDd0IsYUFBYXhCLEtBQUssQ0FBQzJCLFNBQVMsQ0FBQyxHQUFHLEtBQUksU0FBTztZQUM1RTtZQUVBLGdFQUFnRTtZQUNoRSxJQUFJSCxhQUFhekIsSUFBSSxJQUFJeUIsYUFBYXhCLEtBQUssRUFBRTtnQkFDM0NRLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixPQUFPO1lBQ1Q7WUFFQSwrQ0FBK0M7WUFDL0NELFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87UUFDVDtJQUNGO0lBRUFELFFBQVFDLEdBQUcsQ0FBQztJQUNaLE9BQU87QUFDVCxFQUFDO0FBRUQsbURBQW1EO0FBQzVDLE1BQU1pRSxnQkFBZ0IsQ0FBQ0M7SUFDNUIsTUFBTSxFQUFFNUUsSUFBSSxFQUFFLEdBQUdILFFBQVE2RSxRQUFRO0lBQ2pDLE9BQU8xRSxRQUFRNEUsY0FBYzVDLFFBQVEsQ0FBQ2hDLEtBQUtjLElBQUk7QUFDakQsRUFBQztBQUVELG1DQUFtQztBQUM1QixNQUFNK0QsVUFBVTtJQUNyQixNQUFNLEVBQUU3RSxJQUFJLEVBQUUsR0FBR0gsUUFBUTZFLFFBQVE7SUFDakMsT0FBTzFFLENBQUFBLGlCQUFBQSwyQkFBQUEsS0FBTWMsSUFBSSxNQUFLO0FBQ3hCLEVBQUM7QUFFRCw4Q0FBOEM7QUFDdkMsTUFBTWdFLFlBQVk7SUFDdkIsTUFBTSxFQUFFOUUsSUFBSSxFQUFFLEdBQUdILFFBQVE2RSxRQUFRO0lBQ2pDLE9BQU8xRSxRQUFRO1FBQUM7UUFBUztLQUFVLENBQUNnQyxRQUFRLENBQUNoQyxLQUFLYyxJQUFJO0FBQ3hELEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9nYWJyaWVsY2FydmFsaG8vQ2xvdWQtRHJpdmUvc2VvLXBhcmEvc2Fhcy1hdXRvbW90aXZvLWNsaWVudC1tYWluMi9saWIvYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJ1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSdcbmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSdcbmltcG9ydCB7IGFwaVBvc3QsIGFwaUdldCwgYXBpTG9nb3V0LCBhcGlUZW5hbnRSZWdpc3RlciwgYXBpRm9yZ290UGFzc3dvcmQsIGFwaVJlc2V0UGFzc3dvcmQsIGFwaUxvZ2luIH0gZnJvbSAnLi9hcGknXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBudW1iZXJcbiAgbmFtZTogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgcm9sZTogJ2FkbWluJyB8ICdtYW5hZ2VyJyB8ICdzYWxlc3BlcnNvbicgfCAndXNlcidcbiAgcGhvbmU/OiBzdHJpbmdcbiAgYXZhdGFyPzogc3RyaW5nXG4gIGlzX2FjdGl2ZTogYm9vbGVhblxuICBsYXN0X2xvZ2luX2F0Pzogc3RyaW5nXG4gIHRlbmFudF9pZDogbnVtYmVyXG4gIHRlbmFudDoge1xuICAgIGlkOiBudW1iZXJcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBzdWJkb21haW46IHN0cmluZ1xuICAgIHBsYW46ICdiYXNpYycgfCAncHJlbWl1bScgfCAnZW50ZXJwcmlzZSdcbiAgICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2luYWN0aXZlJyB8ICdzdXNwZW5kZWQnXG4gIH1cbn1cblxuLy8gSW50ZXJmYWNlIHBhcmEgcmVzcG9zdGEgZGEgQVBJIChtYWlzIGZsZXjDrXZlbClcbmludGVyZmFjZSBBcGlVc2VyUmVzcG9uc2Uge1xuICBpZDogbnVtYmVyXG4gIG5hbWU6IHN0cmluZ1xuICBlbWFpbDogc3RyaW5nXG4gIHJvbGU6ICdhZG1pbicgfCAnbWFuYWdlcicgfCAnc2FsZXNwZXJzb24nIHwgJ3VzZXInXG4gIHBob25lPzogc3RyaW5nXG4gIGF2YXRhcj86IHN0cmluZ1xuICBpc19hY3RpdmU6IGJvb2xlYW5cbiAgbGFzdF9sb2dpbl9hdD86IHN0cmluZ1xuICB0ZW5hbnRfaWQ/OiBudW1iZXJcbiAgdGVuYW50Pzoge1xuICAgIGlkOiBudW1iZXJcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBzdWJkb21haW46IHN0cmluZ1xuICAgIHBsYW46ICdiYXNpYycgfCAncHJlbWl1bScgfCAnZW50ZXJwcmlzZSdcbiAgICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2luYWN0aXZlJyB8ICdzdXNwZW5kZWQnXG4gIH1cbn1cblxuaW50ZXJmYWNlIEF1dGhTdGF0ZSB7XG4gIHVzZXI6IFVzZXIgfCBudWxsXG4gIHRva2VuOiBzdHJpbmcgfCBudWxsXG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhblxuICBpc0xvYWRpbmc6IGJvb2xlYW5cbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcbn1cblxuaW50ZXJmYWNlIEF1dGhBY3Rpb25zIHtcbiAgbG9naW46IChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBzdWJkb21haW46IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICByZWdpc3RlcjogKGRhdGE6IHtcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBlbWFpbDogc3RyaW5nXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogc3RyaW5nXG4gICAgdGVuYW50X3N1YmRvbWFpbjogc3RyaW5nXG4gICAgY29tcGFueV9uYW1lOiBzdHJpbmdcbiAgfSkgPT4gUHJvbWlzZTx2b2lkPlxuICBmb3Jnb3RQYXNzd29yZDogKGVtYWlsOiBzdHJpbmcsIHN1YmRvbWFpbjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+XG4gIHJlc2V0UGFzc3dvcmQ6IChkYXRhOiB7XG4gICAgZW1haWw6IHN0cmluZ1xuICAgIHRva2VuOiBzdHJpbmdcbiAgICBwYXNzd29yZDogc3RyaW5nXG4gICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiBzdHJpbmdcbiAgICB0ZW5hbnRfc3ViZG9tYWluOiBzdHJpbmdcbiAgfSkgPT4gUHJvbWlzZTx2b2lkPlxuICBsb2dvdXQ6ICgpID0+IHZvaWRcbiAgc2V0VXNlcjogKHVzZXI6IFVzZXIpID0+IHZvaWRcbiAgc2V0VG9rZW46ICh0b2tlbjogc3RyaW5nKSA9PiB2b2lkXG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWRcbiAgcmVmcmVzaFVzZXI6ICgpID0+IFByb21pc2U8dm9pZD5cbn1cblxuZXhwb3J0IGNvbnN0IHVzZUF1dGggPSBjcmVhdGU8QXV0aFN0YXRlICYgQXV0aEFjdGlvbnM+KCkoXG4gIHBlcnNpc3QoXG4gICAgKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgLy8gRXN0YWRvIGluaWNpYWxcbiAgICAgIHVzZXI6IG51bGwsXG4gICAgICB0b2tlbjogbnVsbCxcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIC8vIEHDp8O1ZXNcbiAgICAgIGxvZ2luOiBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgc3ViZG9tYWluOiBzdHJpbmcpID0+IHtcbiAgY29uc29sZS5sb2coJ/CflJAgQXV0aDogSW5pY2lhbmRvIHByb2Nlc3NvIGRlIGxvZ2luLi4uJywgeyBlbWFpbCwgc3ViZG9tYWluIH0pXG4gIHNldCh7IGlzTG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSlcblxuICB0cnkge1xuICAgIC8vIFZlcmlmaWNhciBzZSDDqSBsb2dpbiBkZSBkZW1vbnN0cmHDp8Ojb1xuICAgIGlmIChlbWFpbCA9PT0gJ2FkbWluQGRlbW8uY29tJyAmJiBwYXNzd29yZCA9PT0gJ3Bhc3N3b3JkJyAmJiBzdWJkb21haW4gPT09ICdkZW1vJykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfjq0gQXV0aDogRGV0ZWN0YWRvIGxvZ2luIGRlIGRlbW9uc3RyYcOnw6NvJylcblxuICAgICAgLy8gUHJvY2Vzc2FyIGxvZ2luIGRlIGRlbW9uc3RyYcOnw6NvXG4gICAgICBjb25zdCBkZW1vVXNlckRhdGEgPSB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICBuYW1lOiAnQWRtaW5pc3RyYWRvciBEZW1vJyxcbiAgICAgICAgZW1haWw6ICdhZG1pbkBkZW1vLmNvbScsXG4gICAgICAgIHJvbGU6ICdhZG1pbicgYXMgY29uc3QsXG4gICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgdGVuYW50X2lkOiAxLFxuICAgICAgICB0ZW5hbnQ6IHtcbiAgICAgICAgICBpZDogMSxcbiAgICAgICAgICBuYW1lOiAnRW1wcmVzYSBEZW1vJyxcbiAgICAgICAgICBzdWJkb21haW46ICdkZW1vJyxcbiAgICAgICAgICBwbGFuOiAncHJlbWl1bScgYXMgY29uc3QsXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZW1vX3VzZXInLCBKU09OLnN0cmluZ2lmeShkZW1vVXNlckRhdGEpKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RlbW9fdG9rZW4nLCAnZGVtb190b2tlbl8xMjMnKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RlbW9fc3ViZG9tYWluJywgJ2RlbW8nKVxuXG4gICAgICBDb29raWVzLnNldCgnYXV0aF90b2tlbicsICdkZW1vX3Rva2VuXzEyMycsIHsgZXhwaXJlczogNyB9KVxuICAgICAgQ29va2llcy5zZXQoJ3RlbmFudF9zdWJkb21haW4nLCAnZGVtbycsIHsgZXhwaXJlczogNyB9KVxuXG4gICAgICBzZXQoe1xuICAgICAgICB1c2VyOiBkZW1vVXNlckRhdGEsXG4gICAgICAgIHRva2VuOiAnZGVtb190b2tlbl8xMjMnLFxuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoOiBMb2dpbiBkZSBkZW1vbnN0cmHDp8OjbyByZWFsaXphZG8gY29tIHN1Y2Vzc28nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8g8J+UpSBTRVQgU1VCRE9NQUlOIENPT0tJRSBCRUZPUkUgQVBJIENBTExcbiAgICBjb25zb2xlLmxvZygn8J+MkCBBdXRoOiBEZWZpbmluZG8gc3ViZG9tYWluIGFudGVzIGRhIHJlcXVpc2nDp8Ojby4uLicpXG4gICAgQ29va2llcy5zZXQoJ3RlbmFudF9zdWJkb21haW4nLCBzdWJkb21haW4sIHsgZXhwaXJlczogNyB9KVxuICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aDogU3ViZG9tYWluIGRlZmluaWRvOicsIHN1YmRvbWFpbilcblxuICAgIC8vIFRlbnRhciBsb2dpbiByZWFsIGNvbSBBUEkgZG8gU2FhU1xuICAgIGNvbnNvbGUubG9nKCfwn4yQIEF1dGg6IFRlbnRhbmRvIGxvZ2luIHJlYWwgY29tIEFQSSBkbyBTYWFTLi4uJylcbiAgICB0cnkge1xuXHRjb25zdCBkYXRhID0gYXdhaXQgYXBpTG9naW4oZW1haWwsIHBhc3N3b3JkLCBzdWJkb21haW4pIGFzIHtcblx0ICBhY2Nlc3NfdG9rZW46IHN0cmluZ1xuXHQgIHRva2VuX3R5cGU6IHN0cmluZ1xuXHQgIGV4cGlyZXNfaW46IG51bWJlclxuXHQgIHVzZXI6IEFwaVVzZXJSZXNwb25zZVxuXHR9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aDogTG9naW4gcmVhbCByZWFsaXphZG8gY29tIHN1Y2Vzc28hJylcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OmIEF1dGg6IERhZG9zIHJlY2ViaWRvczonLCB7XG4gICAgICAgIHRva2VuOiBkYXRhLmFjY2Vzc190b2tlbiA/IGAke2RhdGEuYWNjZXNzX3Rva2VuLnN1YnN0cmluZygwLCAyMCl9Li4uYCA6ICdudWxsJyxcbiAgICAgICAgdXNlcjogZGF0YS51c2VyID8geyBpZDogZGF0YS51c2VyLmlkLCBlbWFpbDogZGF0YS51c2VyLmVtYWlsLCByb2xlOiBkYXRhLnVzZXIucm9sZSB9IDogJ251bGwnXG4gICAgICB9KVxuXG4gICAgICAvLyBQcm9jZXNzYXIgbG9naW4gcmVhbFxuICAgICAgbGV0IG1hcHBlZFVzZXI6IFVzZXJcblxuICAgICAgaWYgKGRhdGEudXNlciAmJiBkYXRhLnVzZXIudGVuYW50KSB7XG4gICAgICAgIG1hcHBlZFVzZXIgPSBkYXRhLnVzZXIgYXMgVXNlclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IFVzdcOhcmlvIGNvbSB0ZW5hbnQgY29tcGxldG86JywgbWFwcGVkVXNlci5lbWFpbClcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS51c2VyICYmIGRhdGEudXNlci50ZW5hbnRfaWQpIHtcbiAgICAgICAgbWFwcGVkVXNlciA9IHtcbiAgICAgICAgICAuLi5kYXRhLnVzZXIsXG4gICAgICAgICAgdGVuYW50OiB7XG4gICAgICAgICAgICBpZDogZGF0YS51c2VyLnRlbmFudF9pZCxcbiAgICAgICAgICAgIG5hbWU6ICdFbXByZXNhJyxcbiAgICAgICAgICAgIHN1YmRvbWFpbjogc3ViZG9tYWluLFxuICAgICAgICAgICAgcGxhbjogJ2Jhc2ljJyBhcyBjb25zdCxcbiAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScgYXMgY29uc3RcbiAgICAgICAgICB9XG4gICAgICAgIH0gYXMgVXNlclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IFVzdcOhcmlvIGNvbSB0ZW5hbnRfaWQsIGNyaWFkbyB0ZW5hbnQ6JywgbWFwcGVkVXNlci5lbWFpbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZFVzZXIgPSB7XG4gICAgICAgICAgLi4uZGF0YS51c2VyLFxuICAgICAgICAgIHRlbmFudF9pZDogMSxcbiAgICAgICAgICB0ZW5hbnQ6IHtcbiAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgbmFtZTogJ0VtcHJlc2EnLFxuICAgICAgICAgICAgc3ViZG9tYWluOiBzdWJkb21haW4sXG4gICAgICAgICAgICBwbGFuOiAnYmFzaWMnIGFzIGNvbnN0LFxuICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdFxuICAgICAgICAgIH1cbiAgICAgICAgfSBhcyBVc2VyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aDogVXN1w6FyaW8gc2VtIHRlbmFudCwgY3JpYWRvIHRlbmFudCBwYWRyw6NvOicsIG1hcHBlZFVzZXIuZW1haWwpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5SRIEF1dGg6IENvbmZpZ3VyYW5kbyBjb29raWVzLi4uJylcbiAgICAgIENvb2tpZXMuc2V0KCdhdXRoX3Rva2VuJywgZGF0YS5hY2Nlc3NfdG9rZW4sIHsgZXhwaXJlczogNyB9KVxuICAgICAgQ29va2llcy5zZXQoJ3RlbmFudF9zdWJkb21haW4nLCBzdWJkb21haW4sIHsgZXhwaXJlczogNyB9KVxuICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoOiBDb29raWVzIGNvbmZpZ3VyYWRvcycpXG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5K+IEF1dGg6IENvbmZpZ3VyYW5kbyBlc3RhZG8gZG8gWnVzdGFuZC4uLicpXG4gICAgICBzZXQoe1xuICAgICAgICB1c2VyOiBtYXBwZWRVc2VyLFxuICAgICAgICB0b2tlbjogZGF0YS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KVxuICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoOiBFc3RhZG8gZG8gWnVzdGFuZCBjb25maWd1cmFkbycpXG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEF1dGg6IFZlcmlmaWNhbmRvIGVzdGFkbyBhcMOzcyBjb25maWd1cmHDp8Ojby4uLicpXG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBnZXQoKVxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogQXV0aDogRXN0YWRvIGF0dWFsOicsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBjdXJyZW50U3RhdGUuaXNBdXRoZW50aWNhdGVkLFxuICAgICAgICB1c2VyOiBjdXJyZW50U3RhdGUudXNlcj8uZW1haWwsXG4gICAgICAgIHRva2VuOiBjdXJyZW50U3RhdGUudG9rZW4gPyBgJHtjdXJyZW50U3RhdGUudG9rZW4uc3Vic3RyaW5nKDAsIDIwKX0uLi5gIDogJ251bGwnXG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IExvZ2luIHJlYWwgcHJvY2Vzc2FkbyBjb20gc3VjZXNzbycpXG4gICAgICByZXR1cm5cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIEF1dGg6IEFQSSByZXRvcm5vdSBlcnJvOicsIGVycm9yKVxuXG4gICAgICAvLyBWZXJpZmljYXIgc2Ugw6kgZXJybyBkZSB0ZW5hbnQgbsOjbyBlbmNvbnRyYWRvXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5hbnQgbsOjbyBlbmNvbnRyYWRvJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFc3RlIHN1YmRvbcOtbmlvIG7Do28gZXN0w6EgY2FkYXN0cmFkbyBubyBzaXN0ZW1hLiBFbnRyZSBlbSBjb250YXRvIGNvbSBvIGFkbWluaXN0cmFkb3IuJylcbiAgICAgIH1cblxuICAgICAgLy8gUGFyYSBvdXRyb3MgZXJyb3MsIHVzYXIgZmFsbGJhY2sgYXBlbmFzIHNlIGZvciBlcnJvIGRlIHNlcnZpZG9yXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnNTAwJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnSW50ZXJuYWwgU2VydmVyIEVycm9yJykpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46tIEF1dGg6IFVzYW5kbyBmYWxsYmFjayBwYXJhIGVycm8gZGUgc2Vydmlkb3IuLi4nKVxuXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrVXNlcjogVXNlciA9IHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBuYW1lOiBlbWFpbC5zcGxpdCgnQCcpWzBdLFxuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicgYXMgY29uc3QsXG4gICAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxuICAgICAgICAgIHRlbmFudF9pZDogMSxcbiAgICAgICAgICB0ZW5hbnQ6IHtcbiAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgbmFtZTogYEVtcHJlc2EgJHtzdWJkb21haW59YCxcbiAgICAgICAgICAgIHN1YmRvbWFpbixcbiAgICAgICAgICAgIHBsYW46ICdiYXNpYycgYXMgY29uc3QsXG4gICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmFsbGJhY2tUb2tlbiA9IGBmYWxsYmFja18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmFsbGJhY2tfdXNlcicsIEpTT04uc3RyaW5naWZ5KGZhbGxiYWNrVXNlcikpXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYWxsYmFja190b2tlbicsIGZhbGxiYWNrVG9rZW4pXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYWxsYmFja19zdWJkb21haW4nLCBzdWJkb21haW4pXG5cbiAgICAgICAgQ29va2llcy5zZXQoJ2F1dGhfdG9rZW4nLCBmYWxsYmFja1Rva2VuLCB7IGV4cGlyZXM6IDcgfSlcbiAgICAgICAgQ29va2llcy5zZXQoJ3RlbmFudF9zdWJkb21haW4nLCBzdWJkb21haW4sIHsgZXhwaXJlczogNyB9KVxuXG4gICAgICAgIHNldCh7XG4gICAgICAgICAgdXNlcjogZmFsbGJhY2tVc2VyLFxuICAgICAgICAgIHRva2VuOiBmYWxsYmFja1Rva2VuLFxuICAgICAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aDogTG9naW4gY29tIGZhbGxiYWNrIHJlYWxpemFkbyBjb20gc3VjZXNzbycpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBQYXJhIG91dHJvcyBlcnJvcywgcmUtdGhyb3dcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEF1dGg6IEVycm8gbm8gcHJvY2Vzc28gZGUgbG9naW46JywgZXJyb3IpXG5cbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0Vycm8gZGVzY29uaGVjaWRvIG5vIGxvZ2luJ1xuXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yXG4gICAgfSBlbHNlIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmICdtZXNzYWdlJyBpbiBlcnJvcikge1xuICAgICAgZXJyb3JNZXNzYWdlID0gU3RyaW5nKGVycm9yLm1lc3NhZ2UpXG4gICAgfVxuXG4gICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnNTAwJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InKSkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gJ1NlcnZpZG9yIHRlbXBvcmFyaWFtZW50ZSBpbmRpc3BvbsOtdmVsLiBUZW50ZSBub3ZhbWVudGUgZW0gYWxndW5zIG1pbnV0b3MuJ1xuICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCc0MDEnKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ1VuYXV0aG9yaXplZCcpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSAnQ3JlZGVuY2lhaXMgaW52w6FsaWRhcy4gVmVyaWZpcXVlIHNldSBlbWFpbCwgc2VuaGEgZSBzdWJkb23DrW5pby4nXG4gICAgfSBlbHNlIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJzQwMycpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnRm9yYmlkZGVuJykpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9ICdBY2Vzc28gbmVnYWRvLiBWZXJpZmlxdWUgc3VhcyBwZXJtaXNzw7Vlcy4nXG4gICAgfVxuXG4gICAgc2V0KHtcbiAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgIH0pXG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKVxuICB9XG59LFxuICAgICAgXG5cbiAgICAgIGxvZ291dDogYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+aqiBBdXRoOiBGYXplbmRvIGxvZ291dC4uLicpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUZW50YXIgZmF6ZXIgbG9nb3V0IG5hIEFQSSBzZSBuw6NvIGVzdGl2ZXIgZW0gbW9kbyBkZW1vXG4gICAgICAgICAgY29uc3QgdG9rZW4gPSBnZXQoKS50b2tlblxuICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbiAhPT0gJ2RlbW9fdG9rZW5fMTIzJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjJAgQXV0aDogVGVudGFuZG8gbG9nb3V0IG5hIEFQSS4uLicpXG4gICAgICAgICAgICBhd2FpdCBhcGlMb2dvdXQoKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoOiBMb2dvdXQgbmEgQVBJIHJlYWxpemFkbyBjb20gc3VjZXNzbycpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46tIEF1dGg6IE1vZG8gZGVtbywgcHVsYW5kbyBsb2dvdXQgbmEgQVBJJylcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQXV0aDogRXJybyBubyBsb2dvdXQgZGEgQVBJLCBjb250aW51YW5kbyBjb20gbG9nb3V0IGxvY2FsOicsIGVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlciBjb29raWVzXG4gICAgICAgIENvb2tpZXMucmVtb3ZlKCdhdXRoX3Rva2VuJylcbiAgICAgICAgQ29va2llcy5yZW1vdmUoJ3RlbmFudF9zdWJkb21haW4nKVxuXG4gICAgICAgIC8vIExpbXBhciBsb2NhbFN0b3JhZ2UgZGUgZGVtb25zdHJhw6fDo29cbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlbW9fdXNlcicpXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdkZW1vX3Rva2VuJylcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlbW9fc3ViZG9tYWluJylcblxuICAgICAgICAvLyBMaW1wYXIgZXN0YWRvXG4gICAgICAgIHNldCh7XG4gICAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aDogTG9nb3V0IHJlYWxpemFkbyBjb20gc3VjZXNzbycpXG4gICAgICB9LFxuXG4gICAgICBzZXRVc2VyOiAodXNlcjogVXNlcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+RpCBBdXRoOiBEZWZpbmluZG8gdXN1w6FyaW86JywgdXNlci5lbWFpbClcbiAgICAgICAgc2V0KHsgdXNlciwgaXNBdXRoZW50aWNhdGVkOiB0cnVlIH0pXG4gICAgICB9LFxuXG4gICAgICBzZXRUb2tlbjogKHRva2VuOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflJEgQXV0aDogRGVmaW5pbmRvIHRva2VuJylcbiAgICAgICAgc2V0KHsgdG9rZW4gfSlcbiAgICAgICAgQ29va2llcy5zZXQoJ2F1dGhfdG9rZW4nLCB0b2tlbiwgeyBleHBpcmVzOiA3IH0pXG4gICAgICB9LFxuXG4gICAgICBjbGVhckVycm9yOiAoKSA9PiB7XG4gICAgICAgIHNldCh7IGVycm9yOiBudWxsIH0pXG4gICAgICB9LFxuXG4gICAgICByZWZyZXNoVXNlcjogYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBnZXQoKVxuXG4gICAgICAgIGlmICghdG9rZW4pIHJldHVyblxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFwaUdldDx7IHVzZXI6IFVzZXIgfT4oJy90ZW5hbnQvbWUnKVxuICAgICAgICAgIHNldCh7IHVzZXI6IGRhdGEudXNlciB9KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYXR1YWxpemFyIHVzdcOhcmlvOicsIGVycm9yKVxuICAgICAgICAgIC8vIFNlIGRlciBlcnJvIDQwMSwgZmF6ZXIgbG9nb3V0XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnNDAxJykpIHtcbiAgICAgICAgICAgIGdldCgpLmxvZ291dCgpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvLyDinIUgTk9WTzogRnVuw6fDtWVzIGF1eGlsaWFyZXMgcGFyYSBsb2dpbiBow61icmlkb1xuICAgICAgaGFuZGxlRGVtb0xvZ2luOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46tIEF1dGg6IFByb2Nlc3NhbmRvIGxvZ2luIGRlIGRlbW9uc3RyYcOnw6NvLi4uJylcblxuICAgICAgICAvLyBWZXJpZmljYXIgc2UgaMOhIGRhZG9zIGRlIGRlbW9uc3RyYcOnw6NvIG5vIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBkZW1vVXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkZW1vX3VzZXInKVxuICAgICAgICBjb25zdCBkZW1vVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGVtb190b2tlbicpXG4gICAgICAgIGNvbnN0IGRlbW9TdWJkb21haW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGVtb19zdWJkb21haW4nKVxuXG4gICAgICAgIGlmIChkZW1vVXNlciAmJiBkZW1vVG9rZW4gJiYgZGVtb1N1YmRvbWFpbikge1xuICAgICAgICAgIC8vIFVzYXIgZGFkb3MgZGUgZGVtb25zdHJhw6fDo28gZXhpc3RlbnRlc1xuICAgICAgICAgIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGRlbW9Vc2VyKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEF1dGg6IFVzdcOhcmlvIGRlIGRlbW9uc3RyYcOnw6NvIGNhcnJlZ2FkbzonLCB1c2VyKVxuXG4gICAgICAgICAgLy8gU2FsdmFyIHRva2VuIG5vcyBjb29raWVzXG4gICAgICAgICAgQ29va2llcy5zZXQoJ2F1dGhfdG9rZW4nLCBkZW1vVG9rZW4sIHsgZXhwaXJlczogNyB9KVxuICAgICAgICAgIENvb2tpZXMuc2V0KCd0ZW5hbnRfc3ViZG9tYWluJywgZGVtb1N1YmRvbWFpbiwgeyBleHBpcmVzOiA3IH0pXG5cbiAgICAgICAgICBzZXQoe1xuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgIHRva2VuOiBkZW1vVG9rZW4sXG4gICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aDogTG9naW4gZGUgZGVtb25zdHJhw6fDo28gcmVhbGl6YWRvIGNvbSBzdWNlc3NvJylcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyaWFyIGRhZG9zIGRlIGRlbW9uc3RyYcOnw6NvXG4gICAgICAgIGNvbnN0IGRlbW9Vc2VyRGF0YSA9IHtcbiAgICAgICAgICBpZDogMSxcbiAgICAgICAgICBuYW1lOiAnQWRtaW5pc3RyYWRvciBEZW1vJyxcbiAgICAgICAgICBlbWFpbDogJ2FkbWluQGRlbW8uY29tJyxcbiAgICAgICAgICByb2xlOiAnYWRtaW4nIGFzIGNvbnN0LFxuICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICB0ZW5hbnRfaWQ6IDEsXG4gICAgICAgICAgdGVuYW50OiB7XG4gICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgIG5hbWU6ICdFbXByZXNhIERlbW8nLFxuICAgICAgICAgICAgc3ViZG9tYWluOiAnZGVtbycsXG4gICAgICAgICAgICBwbGFuOiAncHJlbWl1bScgYXMgY29uc3QsXG4gICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RlbW9fdXNlcicsIEpTT04uc3RyaW5naWZ5KGRlbW9Vc2VyRGF0YSkpXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZW1vX3Rva2VuJywgJ2RlbW9fdG9rZW5fMTIzJylcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RlbW9fc3ViZG9tYWluJywgJ2RlbW8nKVxuXG4gICAgICAgIC8vIFNhbHZhciB0b2tlbiBub3MgY29va2llc1xuICAgICAgICBDb29raWVzLnNldCgnYXV0aF90b2tlbicsICdkZW1vX3Rva2VuXzEyMycsIHsgZXhwaXJlczogNyB9KVxuICAgICAgICBDb29raWVzLnNldCgndGVuYW50X3N1YmRvbWFpbicsICdkZW1vJywgeyBleHBpcmVzOiA3IH0pXG5cbiAgICAgICAgc2V0KHtcbiAgICAgICAgICB1c2VyOiBkZW1vVXNlckRhdGEsXG4gICAgICAgICAgdG9rZW46ICdkZW1vX3Rva2VuXzEyMycsXG4gICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoOiBEYWRvcyBkZSBkZW1vbnN0cmHDp8OjbyBjcmlhZG9zIGUgbG9naW4gcmVhbGl6YWRvJylcbiAgICAgIH0sXG5cbiAgICAgIGhhbmRsZVJlYWxMb2dpbjogYXN5bmMgKGRhdGE6IHsgdXNlcjogQXBpVXNlclJlc3BvbnNlOyBhY2Nlc3NfdG9rZW46IHN0cmluZyB9LCBzdWJkb21haW46IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+MkCBBdXRoOiBQcm9jZXNzYW5kbyBsb2dpbiByZWFsLi4uJylcblxuICAgICAgICAvLyBNYXBlYXIgZSB2YWxpZGFyIG8gdXN1w6FyaW8gcmVjZWJpZG9cbiAgICAgICAgbGV0IG1hcHBlZFVzZXI6IFVzZXJcblxuICAgICAgICBpZiAoZGF0YS51c2VyICYmIGRhdGEudXNlci50ZW5hbnQpIHtcbiAgICAgICAgICBtYXBwZWRVc2VyID0gZGF0YS51c2VyIGFzIFVzZXJcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IFVzdcOhcmlvIGNvbSB0ZW5hbnQgY29tcGxldG8gcmVjZWJpZG8nKVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEudXNlciAmJiBkYXRhLnVzZXIudGVuYW50X2lkKSB7XG4gICAgICAgICAgbWFwcGVkVXNlciA9IHtcbiAgICAgICAgICAgIC4uLmRhdGEudXNlcixcbiAgICAgICAgICAgIHRlbmFudDoge1xuICAgICAgICAgICAgICBpZDogZGF0YS51c2VyLnRlbmFudF9pZCxcbiAgICAgICAgICAgICAgbmFtZTogJ0VtcHJlc2EnLFxuICAgICAgICAgICAgICBzdWJkb21haW46IHN1YmRvbWFpbixcbiAgICAgICAgICAgICAgcGxhbjogJ2Jhc2ljJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gYXMgVXNlclxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcHBlZFVzZXIgPSB7XG4gICAgICAgICAgICAuLi5kYXRhLnVzZXIsXG4gICAgICAgICAgICB0ZW5hbnRfaWQ6IDEsXG4gICAgICAgICAgICB0ZW5hbnQ6IHtcbiAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgIG5hbWU6ICdFbXByZXNhJyxcbiAgICAgICAgICAgICAgc3ViZG9tYWluOiBzdWJkb21haW4sXG4gICAgICAgICAgICAgIHBsYW46ICdiYXNpYycgYXMgY29uc3QsXG4gICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScgYXMgY29uc3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGFzIFVzZXJcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNhbHZhciB0b2tlbiBub3MgY29va2llc1xuICAgICAgICBDb29raWVzLnNldCgnYXV0aF90b2tlbicsIGRhdGEuYWNjZXNzX3Rva2VuLCB7IGV4cGlyZXM6IDcgfSlcbiAgICAgICAgQ29va2llcy5zZXQoJ3RlbmFudF9zdWJkb21haW4nLCBzdWJkb21haW4sIHsgZXhwaXJlczogNyB9KVxuXG4gICAgICAgIHNldCh7XG4gICAgICAgICAgdXNlcjogbWFwcGVkVXNlcixcbiAgICAgICAgICB0b2tlbjogZGF0YS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoOiBMb2dpbiByZWFsIHByb2Nlc3NhZG8gY29tIHN1Y2Vzc28nKVxuICAgICAgfSxcblxuICAgICAgaGFuZGxlRmFsbGJhY2tMb2dpbjogYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIHN1YmRvbWFpbjogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46tIEF1dGg6IFByb2Nlc3NhbmRvIGxvZ2luIGNvbSBmYWxsYmFjay4uLicpXG5cbiAgICAgICAgLy8gQ3JpYXIgdXN1w6FyaW8gdGVtcG9yw6FyaW8gcGFyYSBmYWxsYmFja1xuICAgICAgICBjb25zdCBmYWxsYmFja1VzZXI6IFVzZXIgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCksIC8vIElEIMO6bmljbyBiYXNlYWRvIG5vIHRpbWVzdGFtcFxuICAgICAgICAgIG5hbWU6IGVtYWlsLnNwbGl0KCdAJylbMF0sIC8vIE5vbWUgYmFzZWFkbyBubyBlbWFpbFxuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicgYXMgY29uc3QsXG4gICAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxuICAgICAgICAgIHRlbmFudF9pZDogMSxcbiAgICAgICAgICB0ZW5hbnQ6IHtcbiAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgbmFtZTogYEVtcHJlc2EgJHtzdWJkb21haW59YCxcbiAgICAgICAgICAgIHN1YmRvbWFpbixcbiAgICAgICAgICAgIHBsYW46ICdiYXNpYycgYXMgY29uc3QsXG4gICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2VyYXIgdG9rZW4gdGVtcG9yw6FyaW9cbiAgICAgICAgY29uc3QgZmFsbGJhY2tUb2tlbiA9IGBmYWxsYmFja18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcblxuICAgICAgICAvLyBTYWx2YXIgZGFkb3Mgbm8gbG9jYWxTdG9yYWdlIHBhcmEgcGVyc2lzdMOqbmNpYVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmFsbGJhY2tfdXNlcicsIEpTT04uc3RyaW5naWZ5KGZhbGxiYWNrVXNlcikpXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYWxsYmFja190b2tlbicsIGZhbGxiYWNrVG9rZW4pXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYWxsYmFja19zdWJkb21haW4nLCBzdWJkb21haW4pXG5cbiAgICAgICAgLy8gU2FsdmFyIHRva2VuIG5vcyBjb29raWVzXG4gICAgICAgIENvb2tpZXMuc2V0KCdhdXRoX3Rva2VuJywgZmFsbGJhY2tUb2tlbiwgeyBleHBpcmVzOiA3IH0pXG4gICAgICAgIENvb2tpZXMuc2V0KCd0ZW5hbnRfc3ViZG9tYWluJywgc3ViZG9tYWluLCB7IGV4cGlyZXM6IDcgfSlcblxuICAgICAgICBzZXQoe1xuICAgICAgICAgIHVzZXI6IGZhbGxiYWNrVXNlcixcbiAgICAgICAgICB0b2tlbjogZmFsbGJhY2tUb2tlbixcbiAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IExvZ2luIGNvbSBmYWxsYmFjayByZWFsaXphZG8gY29tIHN1Y2Vzc28nKVxuICAgICAgfSxcblxuICAgICAgaGFuZGxlTG9naW5FcnJvcjogYXN5bmMgKGVycm9yOiB1bmtub3duKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoOiBQcm9jZXNzYW5kbyBlcnJvIGRlIGxvZ2luOicsIGVycm9yKVxuXG4gICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnRXJybyBkZXNjb25oZWNpZG8gbm8gbG9naW4nXG5cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yXG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiAnbWVzc2FnZScgaW4gZXJyb3IpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBTdHJpbmcoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1lbnNhZ2VucyBtYWlzIGFtaWfDoXZlaXMgcGFyYSBlcnJvcyBjb211bnNcbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnNTAwJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdTZXJ2aWRvciB0ZW1wb3JhcmlhbWVudGUgaW5kaXNwb27DrXZlbC4gVGVudGUgbm92YW1lbnRlIGVtIGFsZ3VucyBtaW51dG9zLidcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJzQwMScpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnVW5hdXRob3JpemVkJykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnQ3JlZGVuY2lhaXMgaW52w6FsaWRhcy4gVmVyaWZpcXVlIHNldSBlbWFpbCwgc2VuaGEgZSBzdWJkb23DrW5pby4nXG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCc0MDMnKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ0ZvcmJpZGRlbicpKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ0FjZXNzbyBuZWdhZG8uIFZlcmlmaXF1ZSBzdWFzIHBlcm1pc3PDtWVzLidcbiAgICAgICAgfVxuXG4gICAgICAgIHNldCh7XG4gICAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICB9KVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICB9LFxuXG4gICAgICAgICAgICAvLyDinIUgTk9WTzogRnVuw6fDo28gcGFyYSByZWdpc3RybyBkZSB0ZW5hbnRcbiAgICAgIHJlZ2lzdGVyOiBhc3luYyAoZGF0YToge1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICAgICAgZW1haWw6IHN0cmluZ1xuICAgICAgICBwYXNzd29yZDogc3RyaW5nXG4gICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogc3RyaW5nXG4gICAgICAgIHRlbmFudF9zdWJkb21haW46IHN0cmluZ1xuICAgICAgICBjb21wYW55X25hbWU6IHN0cmluZ1xuICAgICAgfSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBBdXRoOiBJbmljaWFuZG8gcmVnaXN0cm8gZGUgdGVuYW50Li4uJywgeyBlbWFpbDogZGF0YS5lbWFpbCwgc3ViZG9tYWluOiBkYXRhLnRlbmFudF9zdWJkb21haW4gfSlcbiAgICAgICAgc2V0KHsgaXNMb2FkaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgYXBpVGVuYW50UmVnaXN0ZXIoZGF0YSlcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IFJlZ2lzdHJvIHJlYWxpemFkbyBjb20gc3VjZXNzbyEnKVxuXG4gICAgICAgICAgc2V0KHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoOiBFcnJvIG5vIHJlZ2lzdHJvOicsIGVycm9yKVxuICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnRXJybyBkZXNjb25oZWNpZG8gbm8gcmVnaXN0cm8nXG5cbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldCh7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgICAgICAgLy8g4pyFIE5PVk86IEZ1bsOnw6NvIHBhcmEgZXNxdWVjaSBtaW5oYSBzZW5oYVxuICAgICAgZm9yZ290UGFzc3dvcmQ6IGFzeW5jIChlbWFpbDogc3RyaW5nLCBzdWJkb21haW46IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UkSBBdXRoOiBJbmljaWFuZG8gc29saWNpdGHDp8OjbyBkZSByZXNldCBkZSBzZW5oYS4uLicsIHsgZW1haWwsIHN1YmRvbWFpbiB9KVxuICAgICAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBhcGlGb3Jnb3RQYXNzd29yZCh7IGVtYWlsLCB0ZW5hbnRfc3ViZG9tYWluOiBzdWJkb21haW4gfSlcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IFNvbGljaXRhw6fDo28gZGUgcmVzZXQgZW52aWFkYSBjb20gc3VjZXNzbyEnKVxuXG4gICAgICAgICAgc2V0KHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoOiBFcnJvIGFvIHNvbGljaXRhciByZXNldCBkZSBzZW5oYTonLCBlcnJvcilcbiAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0Vycm8gZGVzY29uaGVjaWRvIGFvIHNvbGljaXRhciByZXNldCBkZSBzZW5oYSdcblxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0KHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAgICAgICAvLyDinIUgTk9WTzogRnVuw6fDo28gcGFyYSByZXNldGFyIHNlbmhhXG4gICAgICByZXNldFBhc3N3b3JkOiBhc3luYyAoZGF0YToge1xuICAgICAgICBlbWFpbDogc3RyaW5nXG4gICAgICAgIHRva2VuOiBzdHJpbmdcbiAgICAgICAgcGFzc3dvcmQ6IHN0cmluZ1xuICAgICAgICBwYXNzd29yZF9jb25maXJtYXRpb246IHN0cmluZ1xuICAgICAgICB0ZW5hbnRfc3ViZG9tYWluOiBzdHJpbmdcbiAgICAgIH0pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflJEgQXV0aDogSW5pY2lhbmRvIHJlc2V0IGRlIHNlbmhhLi4uJywgeyBlbWFpbDogZGF0YS5lbWFpbCwgc3ViZG9tYWluOiBkYXRhLnRlbmFudF9zdWJkb21haW4gfSlcbiAgICAgICAgc2V0KHsgaXNMb2FkaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgYXBpUmVzZXRQYXNzd29yZChkYXRhKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aDogU2VuaGEgcmVzZXRhZGEgY29tIHN1Y2Vzc28hJylcblxuICAgICAgICAgIHNldCh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQXV0aDogRXJybyBhbyByZXNldGFyIHNlbmhhOicsIGVycm9yKVxuICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnRXJybyBkZXNjb25oZWNpZG8gYW8gcmVzZXRhciBzZW5oYSdcblxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0KHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pLFxuICAgIHtcbiAgICAgIG5hbWU6ICdhdXRoLXN0b3JhZ2UnLFxuICAgICAgcGFydGlhbGl6ZTogKHN0YXRlKSA9PiAoe1xuICAgICAgICB1c2VyOiBzdGF0ZS51c2VyLFxuICAgICAgICB0b2tlbjogc3RhdGUudG9rZW4sXG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogc3RhdGUuaXNBdXRoZW50aWNhdGVkLFxuICAgICAgfSksXG4gICAgICAvLyBBZGljaW9uYXIgcmVoeWRyYXRlIHBhcmEgZ2FyYW50aXIgcXVlIG8gZXN0YWRvIHNlamEgcmVzdGF1cmFkb1xuICAgICAgb25SZWh5ZHJhdGVTdG9yYWdlOiAoKSA9PiAoc3RhdGUpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQXV0aDogRXN0YWRvIHJlaHlkcmF0YWRvOicsIHN0YXRlKVxuICAgICAgfSxcbiAgICB9XG4gIClcbilcblxuLy8gRnVuw6fDo28gcGFyYSBvYnRlciBvIHRva2VuIGF0dWFsXG5leHBvcnQgY29uc3QgZ2V0QXV0aFRva2VuID0gKCkgPT4ge1xuICByZXR1cm4gQ29va2llcy5nZXQoJ2F1dGhfdG9rZW4nKSB8fCBudWxsXG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgb2J0ZXIgbyBzdWJkb21haW4gYXR1YWxcbmV4cG9ydCBjb25zdCBnZXRUZW5hbnRTdWJkb21haW4gPSAoKSA9PiB7XG4gIHJldHVybiBDb29raWVzLmdldCgndGVuYW50X3N1YmRvbWFpbicpIHx8IG51bGxcbn1cblxuLy8gRnVuw6fDo28gcGFyYSBpbmljaWFsaXphciBvIGVzdGFkbyBkZSBhdXRlbnRpY2HDp8OjbyBhIHBhcnRpciBkb3MgY29va2llc1xuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVBdXRoRnJvbUNvb2tpZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHRva2VuID0gZ2V0QXV0aFRva2VuKClcbiAgY29uc3Qgc3ViZG9tYWluID0gZ2V0VGVuYW50U3ViZG9tYWluKClcblxuICBjb25zb2xlLmxvZygn8J+UjSBBdXRoOiBJbmljaWFsaXphbmRvIGEgcGFydGlyIGRvcyBjb29raWVzOicsIHtcbiAgICB0b2tlbjogdG9rZW4gPyBgJHt0b2tlbi5zdWJzdHJpbmcoMCwgMjApfS4uLmAgOiAnbnVsbCcsXG4gICAgc3ViZG9tYWluLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gIH0pXG5cbiAgaWYgKHRva2VuICYmIHN1YmRvbWFpbikge1xuICAgIC8vIFZlcmlmaWNhciBzZSDDqSB0b2tlbiBkZSBkZW1vbnN0cmHDp8Ojb1xuICAgIGlmICh0b2tlbiA9PT0gJ2RlbW9fdG9rZW5fMTIzJykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfjq0gQXV0aDogVG9rZW4gZGUgZGVtb25zdHJhw6fDo28gZGV0ZWN0YWRvJylcbiAgICAgIGNvbnN0IGRlbW9Vc2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RlbW9fdXNlcicpXG4gICAgICBpZiAoZGVtb1VzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1c2VyID0gSlNPTi5wYXJzZShkZW1vVXNlcilcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OrSBBdXRoOiBSZXN0YXVyYW5kbyB1c3XDoXJpbyBkZSBkZW1vbnN0cmHDp8OjbzonLCB1c2VyLmVtYWlsKVxuXG4gICAgICAgICAgLy8gVXNhciBzZXRTdGF0ZSBkaXJldGFtZW50ZSBwYXJhIGV2aXRhciBwcm9ibGVtYXMgZGUgdGltaW5nXG4gICAgICAgICAgdXNlQXV0aC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGg6IFVzdcOhcmlvIGRlIGRlbW9uc3RyYcOnw6NvIHJlc3RhdXJhZG8gY29tIHN1Y2Vzc28nKVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEF1dGg6IEVycm8gYW8gcGFyc2VhciB1c3XDoXJpbyBkZSBkZW1vbnN0cmHDp8OjbzonLCBlcnJvcilcbiAgICAgICAgICAvLyBMaW1wYXIgZGFkb3MgY29ycm9tcGlkb3NcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVtb191c2VyJylcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVtb190b2tlbicpXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlbW9fc3ViZG9tYWluJylcbiAgICAgICAgICBDb29raWVzLnJlbW92ZSgnYXV0aF90b2tlbicpXG4gICAgICAgICAgQ29va2llcy5yZW1vdmUoJ3RlbmFudF9zdWJkb21haW4nKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRva2VuIHJlYWwgLSB0ZW50YXIgYnVzY2FyIGRhZG9zIGRvIHVzdcOhcmlvXG4gICAgICBjb25zb2xlLmxvZygn8J+MkCBBdXRoOiBUb2tlbiByZWFsIGVuY29udHJhZG8sIHRlbnRhbmRvIGJ1c2NhciB1c3XDoXJpby4uLicpXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBBdXRoOiBUb2tlbiByZWFsOicsIHRva2VuLnN1YnN0cmluZygwLCAyMCkgKyAnLi4uJylcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEF1dGg6IFN1YmRvbWFpbjonLCBzdWJkb21haW4pXG5cbiAgICAgIC8vIFZlcmlmaWNhciBzZSBvIHRva2VuIGVzdMOhIG5vIGVzdGFkbyBkbyBadXN0YW5kXG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB1c2VBdXRoLmdldFN0YXRlKClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIEF1dGg6IEVzdGFkbyBhdHVhbCBkbyBadXN0YW5kOicsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBjdXJyZW50U3RhdGUuaXNBdXRoZW50aWNhdGVkLFxuICAgICAgICB1c2VyOiBjdXJyZW50U3RhdGUudXNlcj8uZW1haWwsXG4gICAgICAgIHRva2VuOiBjdXJyZW50U3RhdGUudG9rZW4gPyBgJHtjdXJyZW50U3RhdGUudG9rZW4uc3Vic3RyaW5nKDAsIDIwKX0uLi5gIDogJ251bGwnXG4gICAgICB9KVxuXG4gICAgICAvLyBTZSBqw6EgdGVtb3MgdXN1w6FyaW8gZSB0b2tlbiBubyBlc3RhZG8sIGNvbnNpZGVyYXIgYXV0ZW50aWNhZG9cbiAgICAgIGlmIChjdXJyZW50U3RhdGUudXNlciAmJiBjdXJyZW50U3RhdGUudG9rZW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoOiBVc3XDoXJpbyBqw6EgZXN0w6Egbm8gZXN0YWRvLCBjb25zaWRlcmFuZG8gYXV0ZW50aWNhZG8nKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBOw6NvIGZhemVyIHJlZnJlc2hVc2VyIGFxdWkgcGFyYSBldml0YXIgbG9vcHNcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQXV0aDogVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvIG5vIGVzdGFkbywgbWFzIHRva2VuIGV4aXN0ZScpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGNvbnNvbGUubG9nKCfinYwgQXV0aDogTmVuaHVtIHRva2VuIG91IHN1YmRvbWFpbiBlbmNvbnRyYWRvJylcbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgdmVyaWZpY2FyIHNlIG8gdXN1w6FyaW8gdGVtIHBlcm1pc3PDo29cbmV4cG9ydCBjb25zdCBoYXNQZXJtaXNzaW9uID0gKHJlcXVpcmVkUm9sZXM6IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aC5nZXRTdGF0ZSgpXG4gIHJldHVybiB1c2VyICYmIHJlcXVpcmVkUm9sZXMuaW5jbHVkZXModXNlci5yb2xlKVxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIHZlcmlmaWNhciBzZSDDqSBhZG1pblxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aC5nZXRTdGF0ZSgpXG4gIHJldHVybiB1c2VyPy5yb2xlID09PSAnYWRtaW4nXG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgdmVyaWZpY2FyIHNlIMOpIG1hbmFnZXIgb3UgYWRtaW5cbmV4cG9ydCBjb25zdCBjYW5NYW5hZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aC5nZXRTdGF0ZSgpXG4gIHJldHVybiB1c2VyICYmIFsnYWRtaW4nLCAnbWFuYWdlciddLmluY2x1ZGVzKHVzZXIucm9sZSlcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGUiLCJwZXJzaXN0IiwiQ29va2llcyIsImFwaUdldCIsImFwaUxvZ291dCIsImFwaVRlbmFudFJlZ2lzdGVyIiwiYXBpRm9yZ290UGFzc3dvcmQiLCJhcGlSZXNldFBhc3N3b3JkIiwiYXBpTG9naW4iLCJ1c2VBdXRoIiwic2V0IiwiZ2V0IiwidXNlciIsInRva2VuIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJzdWJkb21haW4iLCJjb25zb2xlIiwibG9nIiwiZGVtb1VzZXJEYXRhIiwiaWQiLCJuYW1lIiwicm9sZSIsImlzX2FjdGl2ZSIsInRlbmFudF9pZCIsInRlbmFudCIsInBsYW4iLCJzdGF0dXMiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImV4cGlyZXMiLCJjdXJyZW50U3RhdGUiLCJkYXRhIiwiYWNjZXNzX3Rva2VuIiwic3Vic3RyaW5nIiwibWFwcGVkVXNlciIsIkVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwiZmFsbGJhY2tVc2VyIiwiRGF0ZSIsIm5vdyIsInNwbGl0IiwiZmFsbGJhY2tUb2tlbiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImVycm9yTWVzc2FnZSIsIlN0cmluZyIsImxvZ291dCIsIndhcm4iLCJyZW1vdmUiLCJyZW1vdmVJdGVtIiwic2V0VXNlciIsInNldFRva2VuIiwiY2xlYXJFcnJvciIsInJlZnJlc2hVc2VyIiwiaGFuZGxlRGVtb0xvZ2luIiwiZGVtb1VzZXIiLCJnZXRJdGVtIiwiZGVtb1Rva2VuIiwiZGVtb1N1YmRvbWFpbiIsInBhcnNlIiwiaGFuZGxlUmVhbExvZ2luIiwiaGFuZGxlRmFsbGJhY2tMb2dpbiIsImhhbmRsZUxvZ2luRXJyb3IiLCJyZWdpc3RlciIsInRlbmFudF9zdWJkb21haW4iLCJmb3Jnb3RQYXNzd29yZCIsInJlc2V0UGFzc3dvcmQiLCJwYXJ0aWFsaXplIiwic3RhdGUiLCJvblJlaHlkcmF0ZVN0b3JhZ2UiLCJnZXRBdXRoVG9rZW4iLCJnZXRUZW5hbnRTdWJkb21haW4iLCJpbml0aWFsaXplQXV0aEZyb21Db29raWVzIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJzZXRTdGF0ZSIsImdldFN0YXRlIiwiaGFzUGVybWlzc2lvbiIsInJlcXVpcmVkUm9sZXMiLCJpc0FkbWluIiwiY2FuTWFuYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/auth.ts\n"));

/***/ })

});